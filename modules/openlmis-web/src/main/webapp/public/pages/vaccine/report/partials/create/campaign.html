<!--
  ~ This program was produced for the U.S. Agency for International Development. It was prepared by the USAID | DELIVER PROJECT, Task Order 4. It is part of a project which utilizes code originally licensed under the terms of the Mozilla Public License (MPL) v2 and therefore is licensed under MPL v2 or later.
  ~
  ~ This program is free software: you can redistribute it and/or modify it under the terms of the Mozilla Public License as published by the Mozilla Foundation, either version 2 of the License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the Mozilla Public License for more details.
  ~
  ~ You should have received a copy of the Mozilla Public License along with this program. If not, see http://www.mozilla.org/MPL/
  -->

<div class="rnr-table">

  <h2>Campaigns</h2>

  <a href="" class="btn btn-primary pull-right" ng-click="showCampaignForm({}, false)">Register new Campaign</a>
  <div ng-show="report.campaignLineItems.length > 0">
    <table class="table table-bordered">
      <thead>
      <tr>
        <th>Campaign Name</th>
        <th>Venue</th>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Children Vaccinated</th>
        <th>Pregnant Woman Vaccinated</th>
        <th>Other Objectives</th>
        <th>Vaccinations</th>
        <th></th>
      </tr>
      </thead>
      <tr ng-repeat="campaign in report.campaignLineItems">
        <td style="height: 35px" class="cell-input"><span class="cell-text">{{campaign.name}}</span></td>
        <td class="cell-input cell-text"><span class="cell-text">{{campaign.venue}}</span></td>
        <td class="cell-input cell-text"><span class="cell-text">{{campaign.startDate}}</span></td>
        <td class="cell-input cell-text"><span class="cell-text">{{campaign.endDate}}</span></td>
        <td class="cell-input cell-text"><span class="cell-text">{{campaign.childrenVaccinated}}</span></td>
        <td class="number cell-input"><span class="cell-text">{{campaign.pregnantWomanVaccinated}}</span></td>
        <td class="cell-input cell-text"><span class="cell-text">{{campaign.otherObjectives}}</span></td>
        <td class="cell-input cell-text"><span class="cell-text">{{campaign.vaccinated}}</span></td>
        <td class="cell-input cell-text"><a href="" ng-click="showCampaignForm(campaign, true)"><span class="cell-text">Edit</span></a></td>
      </tr>

    </table>
  </div>
  <div ng-show="report.campaignLineItems.length == 0">
    No campaigns registered for this Period.
  </div>
</div>

<div id="campaignsModal" modal="campaignsModal"
     options="{ backdrop: 'static', escape: false}">
  <div class="modal-header"><h3>Add / Edit Campaign</h3></div>
  <div class="modal-body">

    <div class="row-fluid">
      <div class="span6">
        <label for="name">Campaign Name</label>
        <input type="text" name="name" id="name" ng-model="currentCampaign.name" />
      </div>
      <div class="span6">
        <label for="venue">Venue</label>
        <input type="text" name="venue" id="venue" ng-model="currentCampaign.venue" />
      </div>
    </div>

    <div class="row-fluid">
      <div class="span6">
        <label >Start Date</label>
        <input type="date" ng-model="currentCampaign.startDate" />
      </div>
      <div class="span6">
        <label >End Date</label>
        <input type="date" ng-model="currentCampaign.endDate" />
      </div>
    </div>

    <div class="row-fluid">
      <div class="span6">
        <label >Children Vaccinated</label>
        <input type="text" ng-model="currentCampaign.childrenVaccinated" >
      </div>
      <div class="span6">
        <label >Pregnant Woman Vaccinated</label>
        <input type="text" ng-model="currentCampaign.pregnantWomanVaccinated" >
      </div>
    </div>

    <div class="row-fluid">
      <div class="span6">
        <label >Other Objectives</label>
        <textarea type="text" ng-model="currentCampaign.otherObjectives" ></textarea>
      </div>

    </div>


    <div class="clearfix"></div>
    <div class="span2">
      <label>&nbsp;</label>
      <input type="button" href="" class="btn btn-primary"
             ng-click="campaignsModal=false"
             openlmis-message="button.cancel"/>
      <input type="button" href="" id="addCampaign" class="btn btn-primary"
             ng-click="applyCampaign()"
             openlmis-message="button.add"/>
    </div>
  </div>
</div>
</div>
