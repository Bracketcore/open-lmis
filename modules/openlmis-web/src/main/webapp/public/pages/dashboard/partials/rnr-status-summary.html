<script id="template/accordion/accordion.html" type="text/ng-template">
    <div class="accordion" ng-transclude></div>
</script>

<script id="template/accordion/accordion-group.html" type="text/ng-template">
    <div class="accordion-group">
        <div class="accordion-heading" style="margin-bottom:0; border-bottom:0">
            <a style="bottom:0" class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a>
        </div>
        <div class="accordion-body" style="display:block; margin-bottom:0" collapse="!isOpen">

            <div class="accordion-inner" ng-transclude></div>  </div>
    </div>
</script>
<div xmlns="http://www.w3.org/1999/html">

    <h2><span openlmis-message="label.summary.of.rnr.status"></span></h2>


    <div class="row-fluid">
        <div class="span12">

            <ng-include src="'/public/pages/dashboard/shared/dashboard-form.html'"></ng-include>
            <ng-include src="'/public/pages/dashboard/shared/alerts.html'"></ng-include>

        </div>
    </div>
    <accordion>
        <accordion-group is-open="fillRates.openPanel">
            <accordion-heading>
                <div class="accordion-title">
                    <div class="caption">
                        <i class="flaticon-speedometer1"></i><span openlmis-message="label.fill.rates"></span>
                    </div>
                    <div class="tools">
                        <i  ng-class="{'icon-minus-sign': fillRates.openPanel, 'icon-plus-sign': !fillRates.openPanel}"></i>
                    </div>
                </div>
            </accordion-heading>
            <div class="fill-rate-header">
                <div class="row-fluid">
                    <div class="span3">
                        <div class="form-field">
                            <span openlmis-message="label.facility"><span class="label-required">*</span></span>
                            <select ui-select2 style="width:200px;" id="facility-name"  name="facility" ng-model="formFilter.facilityId" ng-change="processFacilityFilter()"  required="true">
                                <option  ng-repeat="option in allFacilities" value="{{ option.id }}">{{ option.code }} - {{ option.name }}</option>
                            </select>
                        </div>
                    </div>

                </div>

            </div>
            <div class="row-fluid">
                <div class="app-form span6">
                    <h2 openlmis-message="label.order.fill.rate"></h2>
                    <div class="span6">
                        <div ng-show="RnRStatusPieChartData == undefined">
                            <label class="chart-note">
                                No data to render chart

                            </label>
                        </div>
                        <div ng-show ="RnRStatusPieChartData != undefined">
                            <label class="labels" style="text-align: center;font-weight: bold"># Of Users </span></label>
                            <div id="userSummaryReportLegend" class="chartLegend"></div>
                            <dv></dv>  <a-float id="user-role-assignments" style="align-items: center" af-option="userSummaryPieChartOption" af-data="RnRStatusPieChartData" class="chart"></a-float>
                        </div>

                        <div style="margin-left: 10px; padding-left: 15px;font-weight: bold;">

                        </div>
                    </div>
                </div>
                <div class="app-form span6">
                    <h2 openlmis-message="label.item.fill.rate"></h2>
                    <div ng-show="productItemFillRates == undefined || productItemFillRates.length == 0">
                        <label class="chart-note">No data to render chart</label>
                    </div>
                    <table ng-show="showItemFill">
                        <tr>
                            <td ng-repeat="itemFillRate in productItemFillRates">
                                <span class="easychart" style="height: 75px" easypiechart options="itemFillRate.option"  percent="itemFillRate.percent">
                                <span class="easychart-percent" ng-bind="itemFillRate.percent"></span>
                                </span>
                                <div style="text-align: center">{{itemFillRate.name}}</div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

        </accordion-group>
    </accordion>



</div>