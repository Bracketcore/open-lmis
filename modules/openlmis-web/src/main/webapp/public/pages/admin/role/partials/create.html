<div ng-hide="rights">Loading...</div>
<div ng-show="rights">
  <h2>Add new role</h2>

  <form ng-submit="saveRole()" id="create-role" name="roleForm" novalidate>
    <div class="app-form">

      <div class="form-row clearfix">
        <div class="form-cell">
          <label for="name">Role Name <span class="label-required">*</span></label>

          <div class="form-field">
            <input ng-model="role.name" name="name" id="name" type="text" maxlength="50" ng-required="true"/>
            <span class="field-error" ng-show="roleForm.name.$error.required && showError">
                Please Fill In this value
            </span>
          </div>
        </div>
      </div>

      <div class="form-row clearfix">
        <div class="form-cell">
          <label for="description">Role Description</label>

          <div class="form-field">
            <input ng-model="role.description" name="description" id="description" type="text" maxlength="250"/>
          </div>
        </div>
      </div>

      <div class="form-row clearfix">
        <div class="form-cell">
          <label for="rights">Rights: <span class="label-required">*</span></label>

          <div class="form-field">
            <div id="rights" ng-repeat="right in rights">
              <label for="{{right.rightName}}">{{right.rightName}}</label>
              <input name="rights" id="{{right.rightName}}" ng-required="role.rights.length==0" type="checkbox"
                     ng-model="checked"
                     ng-change="updateRights(checked, right)"/>
            </div>
          <span class="field-error" ng-show="roleForm.rights.$error.required && showError">
            Please select at least one right for the role
          </span>
          </div>
        </div>
      </div>


      <div class="alert alert-error" id="saveFailMessage" ng-model="error" ng-show="error">
        {{error}}
      </div>
      <div class="alert alert-success" id="saveSuccessMsgDiv" ng-model="message" ng-show="message">
        {{message}}
      </div>

      <div class="form-cell button-row">
        <input type="submit" class="btn btn-success save-button" value="Save"/>
      </div>

    </div>
  </form>
</div>


