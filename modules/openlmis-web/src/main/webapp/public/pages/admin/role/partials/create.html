<div ng-hide = "rights && role" >Loading...</div >
<div ng-show = "rights && role" >
  <div ng-hide = "role.id" ><h2 >Add new role</h2 ></div >
  <div ng-show = "role.id" ><h2 >Edit role</h2 ></div >
  <form ng-submit = "saveRole()" id = "create-role" name = "roleForm" novalidate >
    <div class = "app-form" >

      <div class = "form-row clearfix" >
        <div class = "form-cell" >
          <label for = "name" >Role Name <span class = "label-required" >*</span ></label >

          <div class = "form-field" >
            <input ng-model = "role.name" name = "name" id = "name" type = "text" maxlength = "50"
                   ng-required = "true" />
            <span class = "field-error" ng-show = "roleForm.name.$error.required && showError" >
              Please Fill In this value
            </span >
          </div >
        </div >
      </div >

      <div class = "form-row clearfix" >
        <div class = "form-cell" >
          <label for = "description" >Role Description</label >

          <div class = "form-field" >
            <input ng-model = "role.description" name = "description" id = "description" type = "text"
                   maxlength = "250" />
          </div >
        </div >
      </div >

      <div class = "form-row clearfix" >
        <div class = "form-cell" >
          <label >Rights: <span class = "label-required" >*</span ></label >
          <div class = "form-field" >
            <div id = "rights-{{right.right}}" class = "checkbox-list clearfix" ng-repeat = "right in rights" >
              <input id="{{right.right}}" type="checkbox" ng-checked="contains(right.right)" ng-click="updateRights(checked,right)" ng-model="checked"
                     ng-disabled = "areRelatedFieldsSelected(right)"/>
              <label for = "{{right.right}}">{{right.rightName}}</label >
            </div >
            <span class = "field-error" ng-show = "showError" >
              Please select at least one right for the role
            </span >
          </div >
        </div >
      </div >


      <div class = "alert alert-error" id = "saveFailMessage" ng-bind = "error" ng-show = "error" />
      <div class = "form-cell button-row" >
        <input type = "submit" class = "btn btn-success save-button" value = "Save" />
        <a ng-href = "#list" class = "btn btn-cancel" >Cancel</a >
      </div >

    </div >
  </form >
</div >


