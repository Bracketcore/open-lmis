<!--
  ~ This program was produced for the U.S. Agency for International Development. It was prepared by the USAID | DELIVER PROJECT, Task Order 4. It is part of a project which utilizes code originally licensed under the terms of the Mozilla Public License (MPL) v2 and therefore is licensed under MPL v2 or later.
  ~
  ~ This program is free software: you can redistribute it and/or modify it under the terms of the Mozilla Public License as published by the Mozilla Foundation, either version 2 of the License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the Mozilla Public License for more details.
  ~
  ~ You should have received a copy of the Mozilla Public License along with this program. If not, see http://www.mozilla.org/MPL/
  -->
<div xmlns="http://www.w3.org/1999/html" tab-scroll>
<h2><span>{{title}}</span>
    <a href="#create" id="product-add-new"
       class="pull-right btn btn-primary"
       ng-disabled="AddEditMode"
       >Add New</a>
</h2>

<div class="alert alert-success" id="saveSuccessMsgDiv" ng-bind="message" ng-show="message"/>

<div class="box-content" >
    <form ng-submit="" name="filterForm" novalidate>
        <div class="clearfix ">
            <div class="form-cell horizontalFilters">
                <label class="labels">Program</label>

                <div class="form-fields">
                    <select ui-select2 style="width:200px;" class="large-input"
                            ng-change="filterProductsByProgram()"
                            ng-model="program" ng-options="option.id as option.name for option in programs">
                        <option value="">All Programs</option>
                        <option ng-repeat="option in programs" value="{{ option.id }}">{{ option.name }}</option>
                    </select>
                </div>

            </div>

            <div class="form-cell horizontalFilters">
                <label class="labels">Product Name</label>

                <div class="form-fields">
                    <input  style="search-query" class="large-input"
                            ng-change="filterProductsByProgram()"
                            ng-model="productName"></input>
                </div>

            </div>

        </div>
    </form>
</div>

<div>
    <table class="table table-striped table-bordered">
        <thead>
        <tr class="gradient-header">
            <th>Code</th>
            <th>Name</th>
            <th>Program</th>
            <th>Strength</th>
            <th>Unit of Measure</th>
            <th>Display Order</th>
            <th>Active</th>
            <th>Full Supply</th>
        </tr>
        </thead>
        <tbody>
            <tr ng-repeat="pr in filteredProducts | orderBy:['displayOrder','primaryName']">

                <td>
                    <div>{{pr.code}}</div>
                </td>
                <td>
                    <div>
                        <a href="#edit/{{ pr.id }}">{{pr.primaryName}}</a>
                    </div>
                </td>
                <td>
                    <div ng-repeat="prog in pr.programs">{{ prog.name }}</div>
                </td>
                <td>
                    <div>{{pr.strength}}</div>
                </td>
                <td>
                    <div>{{pr.dispensingUnit}}</div>
                </td>
                <td>
                    <div>{{pr.displayOrder}}</div>
                </td>
                <td>
                    <div>{{YesNo(pr.active)}}</div>
                </td>
                <td>
                    <div>{{YesNo(pr.fullSupply)}}</div>
                </td>


            </tr>
        </tbody>
    </table>
</div>


</div>




