<!--
  ~ This program was produced for the U.S. Agency for International Development. It was prepared by the USAID | DELIVER PROJECT, Task Order 4. It is part of a project which utilizes code originally licensed under the terms of the Mozilla Public License (MPL) v2 and therefore is licensed under MPL v2 or later.
  ~
  ~ This program is free software: you can redistribute it and/or modify it under the terms of the Mozilla Public License as published by the Mozilla Foundation, either version 2 of the License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the Mozilla Public License for more details.
  ~
  ~ You should have received a copy of the Mozilla Public License along with this program. If not, see http://www.mozilla.org/MPL/
  -->
<div xmlns="http://www.w3.org/1999/html">
  <h2>
    <span openlmis-message="label.equipment.manage"></span>
    <a id="add-new-equipment" href="#/create" class="pull-right btn btn-primary" openlmis-message="button.add.new"></a>
  </h2>

  <div class="alert alert-success" ng-show="message">
    <span ng-bind="message"></span>
  </div>

  <div class="content-body">
    <label for="type">
      <span openlmis-message="label.equipment.type"></span>
    </label>
    <div>
      <select id="type" class="large-input" ng-change="listEquipments()" ng-model="equipmentTypeId" >
        <option value=""><span openlmis-message="label.equipment.choose.type"></span></option>
        <option ng-repeat="option in equipmentTypes" ng-selected="option.id == currentEquipmentTypeId" value="{{ option.id }}">{{ option.name }}</option>
      </select>
    </div>
    <div ng-show="equipments.length == 0">
      <span openlmis-message="label.equipment.list.none.found"></span>
    </div>
    <div ng-show="equipments.length > 0">
    <table ng-show="equipment_type.coldChain != undefined && !equipment_type.coldChain" class="table table-bordered table-striped">
      <thead>
      <tr class="gradient-header">
        <th style="width: 30px;">#</th>
        <th><a openlmis-message="label.equipment.code" ng-click="sortBy('code')"></a></th>
        <th><a openlmis-message="label.equipment.name" ng-click="sortBy('name')"></a></th>
        <th><a openlmis-message="label.equipment.manufacturer" ng-click="sortBy('manufacturer')"></a></th>
        <th><a openlmis-message="label.equipment.model" ng-click="sortBy('model')"></a></th>
        <th openlmis-message="label.equipment.energy-type"></th>
        <th openlmis-message="label.equipment.type"></th>
        <th openlmis-message="label.equipment.action"></th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="eq in equipments | orderBy:orderTitle">
        <td>{{$index + 1}}</td>
        <td>{{eq.code}}</td>
        <td><a ng-href="#/edit/{{eq.id}}/{{equipmentTypeId}}">{{eq.name}}</a></td>
        <td>{{eq.manufacturer}}</td>
        <td>{{eq.model}}</td>
        <td>{{eq.energyType.name}}</td>
        <td>{{eq.equipmentType.code}}</td>
        <td><a openlmis-message="label.equipment.remove" href="" ng-click="showRemoveEquipmentConfirmDialog(eq.id)"></a></td>
      </tr>
      </tbody>
    </table>
    <table ng-show="equipment_type.coldChain != undefined && equipment_type.coldChain" class="table table-bordered table-striped">
      <thead>
      <tr class="gradient-header">
        <th style="width:20px">#</th>
        <th ><a openlmis-message="label.equipment.designation" ng-click="sortBy('designation.name')"></a></th>
        <th ><a openlmis-message="label.equipment.model" ng-click="sortBy('model')"></a></th>
        <th ><a openlmis-message="label.equipment.manufacturer" ng-click="sortBy('manufacturer')"></a></th>
        <th ><a openlmis-message="label.equipment.energy-type" ng-click="sortBy('energyType.name')"></a></th>
        <th openlmis-message="label.equipment.refrigerator-capacity" ></th>
        <th openlmis-message="label.equipment.freezer-capacity"></th>
        <th openlmis-message="label.equipment.temperature-zone"></th>
        <th openlmis-message="label.equipment.cce-code" ></th>
        <th openlmis-message="label.equipment.pqs-code"></th>
        <th openlmis-message="label.equipment.donor"></th>
        <th><a openlmis-message="label.equipment.action"></a></th>

      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="eq in equipments | orderBy:orderTitle">
        <td>{{$index + 1}}</td>
        <td>{{eq.designation.name}}</td>
        <td><a ng-href="#/edit/{{eq.id}}/{{equipmentTypeId}}">{{eq.model}}</a></td>
        <td>{{eq.manufacturer}}</td>
        <td>{{eq.energyType.name}}</td>
        <td>{{eq.refrigeratorCapacity}}</td>
        <td>{{eq.freezerCapacity}}</td>
        <td>{{eq.temperatureZone}}</td>
        <td>{{eq.cceCode}}</td>
        <td>{{eq.pqsCode}}</td>
        <td>{{eq.donor.shortName}}</td>
        <td><a  openlmis-message="label.equipment.remove" href="" ng-click="showRemoveEquipmentConfirmDialog(eq.id)"></a></td>
      </tr>
      </tbody>
    </table>
    </div>

  </div>
</div>