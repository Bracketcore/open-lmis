<!--
  ~ Copyright Â© 2013 VillageReach.  All Rights Reserved.  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  ~
  ~ If a copy of the MPL was not distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.
  -->
<div xmlns="http://www.w3.org/1999/html" tab-scroll>
<h2><span>{{title}}</span></h2>

<div class="alert alert-success" id="saveSuccessMsgDiv" ng-bind="message" ng-show="message"/>
<div class="box-content" ng-hide="AddEditMode">
    <form ng-submit="" name="filterForm" novalidate>
        <div class="clearfix ">
            <div class="form-cell horizontalFilters">
                <label class="labels">Program</label>

                <div class="form-fields">
                    <select ui-select2 style="width:200px;" class="large-input" name="program" id="program"
                            ng-change="showProductsSearchResults('program')"
                            ng-model="program" ng-options="option.id as option.name for option in programs">
                        <option style="display:none" value="">All Programs</option>

                    </select>
                </div>
            </div>

        </div>
    </form>
</div>

<!-- Add Product -->
<form ng-submit="createProduct()" id="createProductForm" name="createProductForm"
      novalidate select2-blur>

    <div class="app-form">
    <!--Basic Information-->
    <div class="form-group">
        <h3>Basic Information</h3>

        <div class="form-row clearfix">

        <!-- Product code-->
        <div class="form-cell">
        <label for="code">Code<span
                class="label-required"> *</span></label>

        <div class="form-field" style="width: 40%;">

            <input ng-model="product.code" name="code" id="code" type="text"
                   maxlength="20"
                   ng-required="true"/>
                                            <span class="field-error"
                                                  ng-show="createProductForm.code.$error.required && showErrorForCreate"
                                                  openlmis-message="missing.value">
                                            </span>
        </div>
    </div>

        <!-- Product Pack Size-->
        <div class="form-cell">
        <label for="packSize">Pack Size<span
                class="label-required"> *</span></label>

        <div class="form-field" style="width: 40%;">
            <input ng-model="product.packSize" name="packSize" id="packSize" type="text"
                   maxlength="20"
                   ng-required="true"/>
                                            <span class="field-error"
                                                  ng-show="createProductForm.packSize.$error.required && showErrorForCreate"
                                                  openlmis-message="missing.value">
                                            </span>
        </div>
    </div>

        <!-- product name-->
        <div class="form-cell">
        <label for="primaryName">Product Name<span
                class="label-required"> *</span></label>

        <div class="form-field" style="width: 40%;">
            <input ng-model="product.primaryName" name="primaryName" id="primaryName" type="text"
                   maxlength="20"
                   ng-required="true"/>
                                            <span class="field-error"
                                                  ng-show="createProductForm.primaryName.$error.required && showErrorForCreate"
                                                  openlmis-message="missing.value">
                                            </span>
        </div>
    </div>

        <!-- Dispensing Units-->
        <div class="form-cell">
        <label for="dispensingUnit">Dispensing Unit<span
                class="label-required"> *</span></label>

        <div class="form-field" style="width: 40%;">
            <input ng-model="product.dispensingUnit" name="dispensingUnit" id="dispensingUnit"
                   type="text"
                   maxlength="20"
                   ng-required="true"/>
                                            <span class="field-error"
                                                  ng-show="createProductForm.dispensingUnit.$error.required && showErrorForCreate"
                                                  openlmis-message="missing.value">
                                            </span>

        </div>
    </div>

        <!-- Doses Per Dispensing Units-->
        <div class="form-cell">
        <label for="dosesPerDispensingUnit">Doses Dispensing Unit<span
                class="label-required"> *</span></label>

        <div class="form-field" style="width: 40%;">
            <input ng-model="product.dosesPerDispensingUnit" name="dosesPerDispensingUnit" id="dosesPerDispensingUnit"
                   type="text"
                   maxlength="20"
                   ng-required="true"/>
                                            <span class="field-error"
                                                  ng-show="createProductForm.dosesPerDispensingUnit.$error.required && showErrorForCreate"
                                                  openlmis-message="missing.value">
                                            </span>

        </div>
    </div>

        <!-- Thresh hold-->
        <div class="form-cell">
        <label for="packRoundingThreshold">Threshold<span
                class="label-required"> *</span></label>

        <div class="form-field" style="width: 40%;">
            <input ng-model="product.packRoundingThreshold" name="packRoundingThreshold" id="packRoundingThreshold"
                   type="text"
                   maxlength="20"
                   ng-required="true"/>
                                            <span class="field-error"
                                                  ng-show="createProductForm.packRoundingThreshold.$error.required && showErrorForCreate"
                                                  openlmis-message="missing.value">
                                            </span>
        </div>
    </div>

        <!-- product strength-->
        <div class="form-cell">
        <label for="strength">Strength</label>

        <div class="form-field" style="width: 40%;">
            <input ng-model="product.strength" name="strength" id="strength" type="text"
                   maxlength="20"/>
                                            <span class="field-error"
                                                  ng-show="createProductForm.strength.$error.required && showErrorForCreate"
                                                  openlmis-message="missing.value">
                                            </span>
        </div>
    </div>

        <!-- Type-->
        <div class="form-cell">
        <label for="type">Type</label>

        <div class="form-field" style="width: 40%;">
            <input ng-model="product.type" name="type" id="type" type="text"
                   maxlength="20"/>
                                            <span class="field-error"
                                                  ng-show="createProductForm.type.$error.required && showErrorForCreate"
                                                  openlmis-message="missing.value">
                                            </span>
        </div>
    </div>

        <!-- Dosage Units-->
        <div class="form-cell">
        <label for="dosageUnit">Dosage Unit</label>

        <div class="form-field" style="width: 40%;">

            <select ui-select2 style="width:200px;" name="dosageUnit" id="dosageUnit" ng-model="product.dosageUnit"
                    ng-options="option as option.id for option in dosageUnits">

            </select>
                                           <span class="field-error"
                                                 ng-show="createProductForm.dosageUnit.$error.required && showErrorForCreate"
                                                 openlmis-message="missing.value">
                                            </span>
        </div>
    </div>

    <!-- Product Display Order-->
    <div class="form-cell">
    <label for="displayOrder">Display Order</label>

    <div class="form-field" style="width: 40%;">
        <input ng-model="product.displayOrder" name="displayOrder" id="displayOrder" type="text"
               maxlength="20"/>
                                        <span class="field-error"
                                              ng-show="createProductForm.displayOrder.$error.required && showErrorForCreate"
                                              openlmis-message="missing.value">
                                        </span>
    </div>
</div>

    <!-- Product Form-->
    <div class="form-cell">
    <label for="formid">Product Form</label>

    <div class="form-field" style="width: 40%;">

        <select ui-select2 style="width:200px;" name="formid" id="formid" ng-model="product.formId"
                ng-options="option as option.id for option in productForms">

        </select>
                                       <span class="field-error"
                                             ng-show="createProductForm.productForm.$error.required && showErrorForCreate"
                                             openlmis-message="missing.value">
                                        </span>
    </div>
</div>


    <!-- Product Categories-->
    <div class="form-cell">
    <label for="categoryid">Category</label>

    <div class="form-field" style="width: 40%;">

        <select ui-select2 style="width:200px;"  ng-model="product.category"
                ng-options="option as option.name for option in productCategories">

        </select>
                                       <span class="field-error"
                                             ng-show="createProductForm.productDisplayOrder.$error.required && showErrorForCreate"
                                             openlmis-message="missing.value">
                                        </span>
    </div>
</div>

    <div class="form-cell"></div>

    <!-- Product Full Supply-->
    <div class="form-cell" style="margin-left: 30px;">
    <div class="form-field" style="width: 40%;">
        <table>
            <tr>
                <td><input ng-model="product.fullSupply" name="fullSupply" id="fullSupply"
                           type="checkbox"
                           ng-required="false"/>
                </td>
                <td>&nbsp;</td>
                </td>
                <td>Full Supply</td>
            </tr>
            <tr>
                <td>
                    <input ng-model="product.tracer" name="tracer" id="tracer" type="checkbox"
                           ng-required="false"/>
                </td>
                <td>&nbsp;</td>
                </td>
                <td>Tracer</td>
            </tr>
            <tr>
                <td>
                    <input ng-model="product.active" name="active" id="active" type="checkbox" ng-required="false"/>
                </td>
                <td>&nbsp;</td>
                </td>
                <td>Active</td>
            </tr>
            <tr>
                <td>
                    <input ng-model="product.roundToZero" name="roundToZero" id="roundToZero" type="checkbox"
                           ng-required="false"/>
                </td>
                <td>&nbsp;</td>
                </td>
                <td>Round to Zero</td>
            </tr>


        </table>
    </div>
</div>

    </div>
</div>

    <!--Program Association-->
<div class="form-group">
    <h3>Program Association</h3>

    <table border="0">
        <th></th>
        <th colspan="2">Program</th>
        <th></th>
        <th style="text-align: left">Price Per Pack</th>
        <th style="text-align: left">Price Per Dose</th>
        <tr ng-repeat="program in programs" tab-scroll>
            <td style="width: 200px;">&nbsp;</td>
            <td><span class="span1" openlmis-message="program.name"></span></td>
            <td><span class="span1"><input name="programid" id="program_{{program.id}}" type="checkbox"
                                           ng-checked="contains(program.id)"
                                           ng-model="checked"/></span></td>
            <td style="width: 100px;">&nbsp;</td>
            <td><span class="span1"><input ng-model="product.priceperpack" name="priceperpack" id="price_{{program.id}}"
                                           type="text"/></span></td>
            <td><span class="span1"><input ng-model="product.priceperdosage" name="priceperdosage"
                                           id="priceperdosage_{{program.id}}" type="text"/></span></td>
        </tr>
    </table>

</div>

    <div form-toolbar id="action_buttons" class="action-buttons" ng-show="newProductMode">
    <div class="form-cell button-row">
        <input type="submit" class="btn btn-primary save-button" openlmis-message="button.save"/>
        <a ng-click="cancelAddNewProduct()" class="btn btn-cancel cancel-button"><span
                openlmis-message="button.cancel"></span></a>
    </div>
    <div class="toolbar-error" id="saveErrorMsgDiv" openlmis-message="error" ng-show="error"/>
</div>

</div>
</form>

</div>




