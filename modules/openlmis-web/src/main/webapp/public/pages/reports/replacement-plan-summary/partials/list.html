<!--
~ This program was produced for the U.S. Agency for International Development. It was prepared by the USAID | DELIVER PROJECT, Task Order 4. It is part of a project which utilizes code originally licensed under the terms of the Mozilla Public License (MPL) v2 and therefore is licensed under MPL v2 or later.
~
~ This program is free software: you can redistribute it and/or modify it under the terms of the Mozilla Public License as published by the Mozilla Foundation, either version 2 of the License, or (at your option) any later version.
~
~ This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the Mozilla Public License for more details.
~
~ You should have received a copy of the Mozilla Public License along with this program. If not, see http://www.mozilla.org/MPL/
-->
<style>



    .ng-table th{
        text-align: center;
        height: 35px;

        word-wrap: break-word;

    }
    #scrollable-area {
        margin: auto;
        width: 100%;
        height: 150px;
        border: 0px solid #ccc;
        overflow-y: visible;
    }
    .success-modal-wide {
        width: 1000px;

        left: 35%;

    }

    .ng-table th.data-title div {
        /* css-3 */
        white-space: -o-pre-wrap;
        word-wrap: break-word;
        white-space: pre-wrap;
        white-space: -moz-pre-wrap;
        white-space: -pre-wrap;

    }
    table {
        /*table-layout: fixed;*/
        width: 100%
    }
   table .text-center {
        text-align: left;
    }
    .Head{
        height: 100px;
    }

</style>

<div class="row-fluid sortable ui-sortable">
    <div class="box span12">
        <div class="box-header">
            <h2 ng-hide="filter.disaggregated" openlmis-message="menu.report.vaccine.replacement.plan.summary"><i class="icon-edit"></i><span class="break"></span></h2>
            <h2 ng-show="filter.disaggregated" >Annual Vaccine Replacement Plan <i class="icon-edit"></i><span class="break"></span></h2>

            <div class="box-icon">
            <a ng-click="section(0)" ng-show="show(1)" class="btn-minimize"><i class="icon-chevron-up"></i></a>
                <a ng-click="section(1)"  ng-show="show(0)" class="btn-minimize"><i class="icon-chevron-down"></i></a>
                <a id="pdf-button" ng-show="filterForm.$valid" href="#list" ng-click="exportReport('PDF');"
                   class='btn-small btn-info'>PDF</a>
                <a id="xls-button" ng-show="filterForm.$valid" href="#list" ng-click="exportReport('xls')"
                   class='btn-small btn-info'>Excel</a>
            </div>
        </div>

        <div>
            <div class="app-form">

                <form ng-submit="filterGrid()"  name="filterForm" novalidate>
                    <div filter-container class="clearfix">
                        <program-filter class="form-cell horizontalFilters" required="true"></program-filter>
                        <facility-type-filter class="form-cell horizontalFilters"></facility-type-filter>


                       <!-- <vaccine-zone-filter class="form-cell horizontalFilters"></vaccine-zone-filter> -->


                        <div ng-show="filter.disaggregated" class="form-cell horizontalFilters"  >
                            <label class="labels"> Indicators (multi-select)</label>

                            <div class="form-field">
                                <select ui-select2="wideOption" multiple data-placeholder="-- Select Indicators --" style="width:200px;" name="status"  ng-model="filter.status" >
                                    <option  ng-repeat="option in statuses" value="{{ option.name }}">{{ option.value }}</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-cell horizontalFilters">
                            <label>
                        <input type="checkbox"ng-model="filter.disaggregated"
                                 ng-change="filterChanged()"/></label>
                        </div>

                    </div>
                </form>
            </div>
            </div>
        <div class="content-body">
            <div span="12">
            <table class="table table-bordered" ng-show="data == undefined || data.length == 0">
                <tr>
                    <td openlmis-message="label.report.no.data.to.show"></td>

                </tr>
            </table>
            <div ng-show="datarows.length > 0" >
                <div client-side-sort-pagination class="pull-right legend">Page: {{tableParams.page}}, Showing records {{ ((tableParams.page - 1) *
                    tableParams.count) + 1 }} to {{ (tableParams.page ) * tableParams.count }} of {{tableParams.total}}
                </div>
                <div id="scrollable-area">
                <table  ng-show="datarows.length > 0" class="table-bordered table table-striped" ng-table="tableParams" >

                    <tbody>
                    <tr ng-repeat="(key,row) in data" >

                        <td  class="number" data-title="getLocalMessage('label.number'); " style="width:10px;" >{{ $index+1 }}</td>
                        <td ng-show="filter.zone !=0" data-title="getLocalMessage('label.region')" sortable="region" style="width:80px;text-align: left;" header-class="'text-left'">{{row.facilityName}}</td>
                        <td ng-show="filter.zone==0" data-title="'Stores'" sortable="facilityName" style="width:80px;text-align: left;" header-class="'text-left'">{{row.facilityName}}</td>
                        <td  data-title="years[0]"  style="text-align: center;cursor:pointer" sortable="total_year1"><a  ng-click="getEquipmentList(row.facilityId,row, row.replacementYearOne);">{{row.total_year1}}</a></td>
                        <td  data-title="years[1]" ng-show="!filter.disaggregated" style="text-align: center;cursor:pointer" sortable="total_year2"><a  ng-click="getEquipmentList(row.facilityId,row, row.replacementYearTwo);">{{row.total_year2}}</a></td>
                        <td  data-title="years[2]" ng-show="!filter.disaggregated" style="text-align: center;cursor:pointer" sortable="total_year3"><a  ng-click="getEquipmentList(row.facilityId,row, row.replacementYearThree);">{{row.total_year3}}</a></td>
                        <td  data-title="years[3]" ng-show="!filter.disaggregated" style="text-align: center;cursor:pointer" sortable="total_year4"><a  ng-click="getEquipmentList(row.facilityId, row,row.replacementYearFour);">{{row.total_year4}}</a></td>
                        <td  data-title="years[4]" ng-show="!filter.disaggregated" style="text-align: center;cursor:pointer" sortable="total_year5"><a  ng-click="getEquipmentList(row.facilityId,row, row.replacementYearFive);">{{row.total_year5}}</a></td>
                        <td data-title="'Total Amount (Tsh)'" sortable="this_year_cost"   style="width:20px;text-align: center;">{{row.this_year_cost}}</td>









                        <!--  <td data-title="2015"  sortable="2015" style="text-align: center;cursor: pointer;">

                              <a  ng-click="getOnTimelinessReport(row.levelId, '2017');">{{row.years[0]}}</a>
                              <a ng-href="/public/pages/reports/non-reporting/index.html#/list?zone={{row.zoneId}}&program={{filter.program}}"
                               >
                                  {{row.years[0]}}

                               </a>


                        </td>
                        <td  data-title="2016" ng-hide="filter.disaggregated" style="text-align: center;cursor:pointer"><a  ng-click="getOnTimelinessReport(row.levelId, this);">{{row.years[1]}}</a></td>
                        <td ng-hide="filter.disaggregated" data-title="2017" style="text-align: center;cursor:pointer"> <a  ng-click="getOnTimelinessReport(row.levelId, '2017');">{{row.years[2]}}</a></td>
                        <td ng-hide="filter.disaggregated" data-title="2018" style="text-align: center;cursor:pointer"><a  ng-click="getOnTimelinessReport(row.levelId, '2018');">{{row.years[3]}}</a></td>
                        <td ng-hide="filter.disaggregated" data-title="2019" style="text-align: center;cursor:pointer">{{row.years[4]}}</td>

                        <td data-title="'Total Amount (Tsh)'"   style="width:20px;text-align: center;">{{row.purchasePrice}}</td> -->

                    </tr>

                    <!--<tr ng-repeat="row in replacementPlans">

                        <td class="number" style="width:10px" >{{ $index+1 }}</td>
                        <td ng-show="filter.disaggregated" sortable="facilityCode" data-title="getLocalMessage('label.facility.code')">{{ row.facilityCode[0]}} </td>
                        <td ng-show="filter.disaggregated" sortable="facility" data-title="getLocalMessage('label.facility')">{{ row.facility[0]}} </td>
                        <td ng-show="filter.disaggregated" sortable="district" data-title="getLocalMessage('label.district')">{{ row.district[0]}} </td>

                        <td style="width:80px;text-align: center;" sortable="row.region" data-title="getLocalMessage('label.region')">
                            {{row.region}}</td>
                        <td style="width:80px;text-align: center;" data-title="2015">{{row.years['2015']}}
                        </td>

                       <td style="width:80px;text-align: center;">

                            {{row.years['2016']}}
                       </td>
                        <td style="width:80px;text-align: center;" data-title="2017">

                            {{row.years['2017']}}</a></td>
                        <td style="width:80px;text-align: center;">


                            {{row.years['2018']}}</a></td>
                        <td style="width:80px;text-align: center;">

                            {{row.years['2019']}}</a>

                        </td>
                        <td style="width:80px;text-align: center;" sortable="row.purchasePrice">
                       {{row.purchasePrice}}
                        </td>
                    </tr>-->

                    </tbody>
                </table>

                </div>
            </div>

          </div>



        </div>


    </div>

</div>

<div id="popup-box" modal="equipmentsForReplacementModal" class="success-modal-wide">

    <div class="modal-header">
        <h3>{{ title }}


            <span style="float: right;">

                   <a ng-click="section(0)" ng-show="show(1)" class="btn-minimize"><i class="icon-chevron-up"></i></a>
                <a ng-click="section(1)"  ng-show="show(0)" class="btn-minimize"><i class="icon-chevron-down"></i></a>
                <a id="pdf-button" href="#list" ng-click="exportReport('PDF')" class='btn-small btn-info'>CSV</a>
                <a id="xls-button" href="#list" ng-click="exportReport('xls')" class='btn-small btn-info'>Excel</a>

        </span>

        </h3>


    </div>

    <div class="modal-body">
        <table class="table table-bordered">
            <thead>
            <tr>
                <th openlmis-message="label.number"></th>

                <th openlmis-message="label.facility.code"></th>
                <th openlmis-message="label.facility.name"></th>
                <th openlmis-message="label.region"></th>
                <th openlmis-message="label.equipment.details"></th>
                <th openlmis-message=" label.source.of.Energy"></th>
                <th openlmis-message="label.equipment.serial"></th>
                <th openlmis-message="label.age"></th>
                <th openlmis-message="label.replacement.cost"> </th>



            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="f in facility">
                <td>{{$index+1}}</td>
                <td>{{f.facilityCode}}</td>
                <td>{{f.facilityName}}</td>
                <td>{{f.region}}</td>
                <td>{{f.equipment}}</td>

                <td>{{f.sourceOfEnergy}}</td>
                <td>{{f.serialNumber}}</td>
                <td>{{f.total}}</td>
                <td>{{f.purchasePrice}}</td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="modal-footer">
        <a class="btn btn-primary pull-right" ng-click="equipmentsForReplacementModal=false;">Close</a>
    </div>
</div>
