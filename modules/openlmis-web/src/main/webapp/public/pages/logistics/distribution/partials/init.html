<!--
  ~ Copyright ï¿½ 2013 VillageReach.  All Rights Reserved.  This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.
  ~
  ~ If a copy of the MPL was not distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.
  -->

<div class="init-rnr">
  <h2 openlmis-message="label.manage.distribution"></h2>

  <br/>

  <div class="alert alert-success" id="saveSuccessMsgDiv" ng-bind="message" ng-show="message"></div>

  <div>
    <div class="row-fluid">
      <div class="span12">
        <label openlmis-message="label.distribution.deliveryZone"></label>
      </div>
    </div>
    <div class="row-fluid">
      <select id="selectDeliveryZone" class="span3" ng-model="selectedZone"
              ng-options="i as i.name for i in deliveryZones"
              ng-change="loadPrograms()">
        <option ng-bind="zonePlaceholder"></option>
      </select>
    </div>

    <br/>

    <div class="row-fluid">
      <div class="span12">
        <label openlmis-message="label.program"></label>
      </div>
    </div>
    <div class="row-fluid">
      <select id="selectProgram" class="span3" ng-model="selectedProgram" ng-options="i as i.name for i in programs"
              ng-change="loadPeriods()">
        <option ng-bind="programOptionMessage()"></option>
      </select>
    </div>

    <br/>


    <div class="row-fluid">
      <div class="span12">
        <label openlmis-message="label.period"></label>
      </div>
    </div>
    <div class="row-fluid">
      <select id="selectPeriod" class="span3" ng-model="selectedPeriod" ng-options="i as i.name for i in periods">
        <option ng-bind="periodOptionMessage()"></option>
      </select>
    </div>

    <br/><br/>

  </div>
  <a class="btn btn-primary" id="viewLoadAmounts"
     ng-href="#/view-load-amounts/{{selectedZone.id}}/{{selectedProgram.id}}/{{selectedPeriod.id}}"
     ng-disabled="!(selectedPeriod && selectedProgram && selectedZone)" openlmis-message="button.view.load.amount">
  </a>
  <a class="btn btn-primary" id="initiateDistribution" ng-click="initiateDistribution()"
     ng-disabled="!(selectedPeriod && selectedProgram && selectedZone)"
     openlmis-message="button.initiate.distribution">
  </a>

  <div ng-include="'partials/list.html'"></div>
</div>
</div>