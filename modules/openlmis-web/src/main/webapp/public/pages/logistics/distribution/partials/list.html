<!--
  ~ This program is part of the OpenLMIS logistics management information system platform software.
  ~ Copyright © 2013 VillageReach
  ~
  ~ This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
  ~  
  ~ This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more details.
  ~ You should have received a copy of the GNU Affero General Public License along with this program.  If not, see http://www.gnu.org/licenses.  For additional information contact info@OpenLMIS.org. 
  -->

<div ng-controller="DistributionListController">

  <h2 openlmis-message="label.initiated.distributions"></h2>

  <div class="alert alert-info" id="noDistributionInitiated" ng-hide="sharedDistributions.distributionList.length > 0">
    <span openlmis-message="message.no.distribution.initiated"></span>
  </div>

  <div class="alert alert-info" ng-show="message"><span ng-bind="message"></span></div>

  <div ng-show="sharedDistributions.distributionList.length">
    <div id="cachedDistributions">
      <div class="list-header-container">
        <div class="row-fluid list-header">
          <div class="span2">
            <div class="delivery-zone" openlmis-message="label.delivery.zone"></div>
          </div>
          <div class="span2" openlmis-message="label.program"></div>
          <div class="span2" openlmis-message="label.period"></div>
          <div class="span2" openlmis-message="label.status"></div>
          <div class="span2"></div>
          <div class="span1"></div>
        </div>
      </div>

      <div class="list-container">
        <div class="row-fluid list-row" ng-repeat="distribution in sharedDistributions.distributionList">

          <div class="span2">
            <div class="delivery-zone" ng-bind="distribution.deliveryZone.name"></div>
          </div>
          <div class="span2" ng-bind="distribution.program.name"></div>
          <div class="span2" ng-bind="distribution.period.name"></div>
          <div class="span2" ng-bind="distribution.status"></div>
          <div class="span2"><a href="javascript:void(0)" openlmis-message="label.record.data"
                                ng-href="#/record-facility-data/{{distribution.id}}"></a></div>
          <div class="span1"><a href="javascript:void(0)" openlmis-message="label.sync"
                                ng-click="syncDistribution(distribution.id)"></a></div>
        </div>
      </div>
    </div>
  </div>
</div>