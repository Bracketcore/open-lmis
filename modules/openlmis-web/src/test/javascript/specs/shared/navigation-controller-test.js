describe("Navigation", function () {

    beforeEach(module('openlmis.services'));

    describe("NavigationController", function () {

        var scope, ctrl;

        beforeEach(inject(function ($rootScope, $controller) {
            scope = $rootScope.$new();
            sessionStorage['rights'] = ['MANAGE_FACILITY', 'UPLOADS'];
            ctrl = $controller(NavigationController, {$scope:scope});
        }));

        it('should check permission', function () {
            expect(true).toEqual(scope.hasPermission("MANAGE_FACILITY"));
            expect(false).toEqual(scope.hasPermission("CREATE_REQUISITION"));
        });


        it('should set user rights into scope', function () {
            expect(scope.rights).toEqual('MANAGE_FACILITY,UPLOADS');
        });
    })
});